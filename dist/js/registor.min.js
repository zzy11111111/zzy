let Q={cookie(e,t,o={}){let n=encodeURIComponent(e)+"="+encodeURIComponent(t);if(!isNaN(o.expires)){let e=new Date;e.setDate(e.getDate()+o.expires),n+=";expires="+e}o.path&&(n+=";path="+o.path),document.cookie=n},getCookie(o){let n=document.cookie.split("; ");for(let e=0,t=n.length;e<t;e++){var r=n[e].split("=");if(encodeURIComponent(o)===r[0])return decodeURIComponent(r[1])}},removeCookie(e,t={}){console.log(t),t.path?document.cookie=encodeURIComponent(e)+"=;expires="+new Date(0)+";path="+t.path:document.cookie=encodeURIComponent(e)+"=;expires="+new Date(0)},convertStrToObj(e){return e?JSON.parse(e):{}}};var code;function createCode(){code=new Array;for(var e=document.getElementById("checkCode"),t=(e.value="",new Array(2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","W","X","Y","Z")),o=0;o<4;o++){var n=Math.floor(32*Math.random());code+=t[n]}4!=code.length&&createCode(),e.value=code}class Registor{constructor(){this.us=document.querySelector("#us"),this.ps=document.querySelector("#ps"),this.sure=document.querySelector("#sure"),this.inputCode=document.getElementById("input1"),this.che=document.getElementById("che"),this.reg=document.querySelector("#reg"),this.arr=[!1,!1,!1,!1,!1],this.addEvent()}addEvent(){let n=this,e=(this.us.onblur=function(){var e=this.value;/^(?:(?:\+|00)86)?1\d{10}$/.test(e)?(this.style.color="black",n.arr[0]=!0):(this.style.color="red",n.arr[0]=!1)},this.ps.onblur=function(){var e=this.value;/^\w{3,12}$/.test(e)?(this.style.color="black",n.arr[1]=!0):(this.style.color="red",n.arr[1]=!1)},this.sure.onblur=function(){n.ps.value===this.value?(this.style.color="black",n.arr[2]=!0):(this.style.color="red",n.arr[2]=!1)},this.inputCode.onblur=function(){var e=this.value.toUpperCase();e.length<=0?(alert("请输入验证码！"),n.arr[3]=!1):e!=code?(alert("验证码输入错误！"),createCode(),n.arr[3]=!1):n.arr[3]=!0},1);this.che.onclick=function(){++e%2?n.arr[4]=!1:n.arr[4]=!0},this.reg.onclick=function(){if(n.arr.includes(!1))alert("请完善注册信息!");else{var t=Q.getCookie("users")?Q.getCookie("users"):"";let e=Q.convertStrToObj(t);var t=n.us.value,o=n.ps.value;t in e?alert("用户名已存在！"):(e[t]=o,Q.cookie("users",JSON.stringify(e),{expires:7,path:"/"}),alert("注册成功！"))}}}}new Registor;var o_find=document.getElementById("find"),o_close=document.getElementById("btn-search-close"),topnav=document.querySelector(".top-scroll"),sav=document.querySelector(".search-box"),site=document.querySelector(".location");o_find.onclick=function(){document.getElementById("schbody").style.top="160px",window.onscroll=function(){100<parseInt(document.documentElement.scrollTop)?(sav.style.position="fixed",sav.style.top="32px"):parseInt(document.documentElement.scrollTop)<=100&&(sav.style.position="fixed",sav.style.top="160px")}},o_close.onclick=function(){document.getElementById("schbody").style.top="-640px",window.onscroll=null},window.addEventListener("scroll",function(e){170<window.pageYOffset?topnav.style.display="block":topnav.style.display="none"}),site.onclick=function(){location.href="https://ditu.amap.com/"};class Footer{constructor(){this.btn=document.querySelectorAll("footer .center .left .top ul li a"),this.box=document.querySelector("footer .center .left .hidden"),this.addEvent()}addEvent(){let o=this;for(let e=0,t=this.btn.length;e<t;e++)this.btn[e].onclick=function(){$(o.box).is(":hidden")?$(o.box).show(230):$(o.box).hide(230)}}}new Footer;